## 2 程序设计语言及其文法

### 2.1 字母表和串

-   **字母表**及其乘积、幂、闭包等运算

-   **串**及其连接、幂等运算

### 2.2 文法

文法是一个具有**推导**和**归约**功能的**四元组**：

-   **终结符集**（$V_T$）

-   **非终结符集**（$V_N$）：与终结符集不相交

-   **产生式集**（$P$）
    -   左部属于$(V_T\cup V_N)^+$
    -   右部属于$(V_T\cup V_N)^*$
        >   所以只有**产生式的右部**可以出现$\epsilon$

-   **开始符号**（$S$）：至少在产生式左侧出现一次

文法主要包括**语法和词法**：

-   **语法**：语句的组成规则

-   **词法**：单词的组成规则

### 2.3  语言

-   语言的定义
    -   由文法**开始符号**推导出的所有**句子**构成的集合称为**文法生成的语言**。

-   语言的表示/描述
    -   文法解决了**无穷语言的有穷表示**问题。

-   语言的运算
    -   语言有并、连接、幂、闭包等运算。

### 2.4 文法的分类

>   从上至下，**要求依次累加**

-   无限制文法/短语结构文法（0型文法、图灵机）
    -   新增的约束：产生式**左部**至少包含一个**非终结符**

-   上下文有关文法（1型文法、线性界限自动机）
    -   新增的约束：产生式**左部长度小于右部**
        >   当然，也允许**空产生式**的出现，这是个特例

-   上下文无关文法（2型文法、下推自动机）
    -   新增的约束：产生式**左部仅为非终结符**
        >   左部仅有一个非终结符，右部长度大于左部
    -   应用：识别**语言**（语法、语义分析）

-   正则文法（3型文法、有穷自动机）
    -   新增的约束：仅允许**左线性(非终结符**只能出现在最左边)或**右线性**(**非终结符**只能出现在最右边)
    -   应用：识别**单词**（词法分析）

### 2.5 CFG的分析树

-   分析树是**推导**的图形化表示：
    -   根节点：文法**开始符号**
    -   内部结点：代表**产生式**
        -   **左部**：该节点
        -   **右部**：子结点从左到右
    -   叶结点：非终结符或终结符
    -   **树的产出/边缘**：从左到右排列叶节点

-   （句型的）短语：分析树中每一棵**子树的边缘**（若干步推导）
    -   直接短语（简单短语）：高度为2的子树的边缘（一步推导）
        >   注意子树的定义，需要从一个节点**延伸直到叶子节点**才叫子树
        
    -   句柄：句型的**最左直接短语**/最左边高为为2子树的边缘

        >   不同子树的边缘可以相同，但**短语不必重复**。不过，对于出现在树中不同位置的**相同文法符号**，在短语中应当**区别**对待，可以用**下标**来区分它们
    
-   二义性文法与消歧规则
    -   二义性文法：文法可以为某个句子生成多棵分析树
    -   消歧规则：人为规定一些**优先级**关系

### 2.6 程序设计语言

-   概念
    -   程序设计语言(ProgrammingLanguage)：组成程序的**所有语句**的集合
    -   程序(Program)：满足**语法**规则的**语句序列**
    -   语句(Sentence) ：满足**语法**规则的**单词序列**
    -   单词(Token) ：满足**词法**规则的字符串

